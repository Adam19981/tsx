import{bf as me,bg as ye,bh as be,bi as we,bj as pe,aT as J,bk as Se,bl as Pe,bm as Me,bn as Ie,bo as Ce,bp as xe,bq as le,br as U,bs as oe,b2 as X,b3 as K,b0 as Q,b1 as ee,aP as se,be as De,b8 as Le,bc as Te,a$ as ke,t as Ee,B as Ae,A as G,H as te,N as ae,Z as re,V as Re,bt as Oe,v as ie,Y as Ye,J as We}from"./index-93daa27c.js";function Be(e){return ye(null,e)}var ze={isDimensionStacked:be,enableDataStack:we,getStackedDimension:pe};function Ve(e,t){var s=t;t instanceof J||(s=new J(t));var d=Se(s);return d.setExtent(e[0],e[1]),Pe(d,s),d}function _e(e){Me(e,Ie)}function ue(e,t){return t=t||{},me(e,null,null,t.state!=="normal")}var He=Object.freeze(Object.defineProperty({__proto__:null,createList:Be,getLayoutRect:Ce,dataStack:ze,createScale:Ve,mixinAxisModelCommonMethods:_e,getECData:xe,createTextStyle:ue,createDimensions:le,createSymbol:U,enableHoverEmphasis:oe},Symbol.toStringTag,{value:"Module"}));function Ne(e){var t=Q.extend(e);return Q.registerClass(t),t}function $e(e){var t=ee.extend(e);return ee.registerClass(t),t}function qe(e){var t=X.extend(e);return X.registerClass(t),t}function Ge(e){var t=K.extend(e);return K.registerClass(t),t}se([De,Le]);se(Te);qe({type:"series.liquidFill",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,t){var s=le(e.data,{coordDimensions:["value"]}),d=new ke(s,this);return d.initData(e.data),d},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});var Ue=Ee({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(e,t){t.radiusY==null&&(t.radiusY=t.radius);for(var s=Math.max(Math.ceil(2*t.radius/t.waveLength*4)*2,8);t.phase<-Math.PI*2;)t.phase+=Math.PI*2;for(;t.phase>0;)t.phase-=Math.PI*2;var d=t.phase/Math.PI/2*t.waveLength,c=t.cx-t.radius+d-t.radius*2;e.moveTo(c,t.waterLevel);for(var g=0,w=0;w<s;++w){var Y=w%4,o=je(w*t.waveLength/4,Y,t.waveLength,t.amplitude);e.bezierCurveTo(o[0][0]+c,-o[0][1]+t.waterLevel,o[1][0]+c,-o[1][1]+t.waterLevel,o[2][0]+c,-o[2][1]+t.waterLevel),w===s-1&&(g=o[2][0])}t.inverse?(e.lineTo(g+c,t.cy-t.radiusY),e.lineTo(c,t.cy-t.radiusY),e.lineTo(c,t.waterLevel)):(e.lineTo(g+c,t.cy+t.radiusY),e.lineTo(c,t.cy+t.radiusY),e.lineTo(c,t.waterLevel)),e.closePath()}});function je(e,t,s,d){return t===0?[[e+1/2*s/Math.PI/2,d/2],[e+1/2*s/Math.PI,d],[e+s/4,d]]:t===1?[[e+1/2*s/Math.PI/2*(Math.PI-2),d],[e+1/2*s/Math.PI/2*(Math.PI-1),d/2],[e+s/4,0]]:t===2?[[e+1/2*s/Math.PI/2,-d/2],[e+1/2*s/Math.PI,-d],[e+s/4,-d]]:[[e+1/2*s/Math.PI/2*(Math.PI-2),-d],[e+1/2*s/Math.PI/2*(Math.PI-1),-d/2],[e+s/4,0]]}var M=Oe;function ne(e){return e&&e.indexOf("path://")===0}Ge({type:"liquidFill",render:function(e,t,s){var d=this,c=this.group;c.removeAll();var g=e.getData(),w=g.getItemModel(0),Y=w.get("center"),o=w.get("radius"),W=s.getWidth(),I=s.getHeight(),V=Math.min(W,I),B=0,L=0,j=e.get("outline.show");j&&(B=e.get("outline.borderDistance"),L=M(e.get("outline.itemStyle.borderWidth"),V));var C=M(Y[0],W),x=M(Y[1],I),D,T,k,p=!1,b=e.get("shape");if(b==="container"?(p=!0,D=[W/2,I/2],T=[D[0]-L/2,D[1]-L/2],k=[M(B,W),M(B,I)],o=[Math.max(T[0]-k[0],0),Math.max(T[1]-k[1],0)]):(D=M(o,V)/2,T=D-L/2,k=M(B,V),o=Math.max(T-k,0)),j){var ve=F();ve.style.lineWidth=L,c.add(F())}var de=p?0:C-o,ce=p?0:x-o,E=null;c.add(he());var _=this._data,q=[];g.diff(_).add(function(a){var r=H(a,!1),i=r.shape.waterLevel;r.shape.waterLevel=p?I/2:o,Ae(r,{shape:{waterLevel:i}},e),r.z2=2,N(a,r,null),c.add(r),g.setItemGraphicEl(a,r),q.push(r)}).update(function(a,r){for(var i=_.getItemGraphicEl(r),u=H(a,!1,i),l={},n=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],h=0;h<n.length;++h){var v=n[h];u.shape.hasOwnProperty(v)&&(l[v]=u.shape[v])}for(var m={},f=["fill","opacity","shadowBlur","shadowColor"],h=0;h<f.length;++h){var v=f[h];u.style.hasOwnProperty(v)&&(m[v]=u.style[v])}p&&(l.radiusY=I/2),G(i,{shape:l,x:u.x,y:u.y},e),e.isUniversalTransitionEnabled&&e.isUniversalTransitionEnabled()?G(i,{style:m},e):i.useStyle(m);var y=i.getClipPath(),S=u.getClipPath();i.setClipPath(u.getClipPath()),i.shape.inverse=u.inverse,y&&S&&d._shape===b&&!ne(b)&&G(S,{shape:y.shape},e,{isFrom:!0}),N(a,i,i),c.add(i),g.setItemGraphicEl(a,i),q.push(i)}).remove(function(a){var r=_.getItemGraphicEl(a);c.remove(r)}).execute(),w.get("label.show")&&c.add(fe(q)),this._shape=b,this._data=g;function A(a,r){if(b)if(ne(b)){var i=ie(b.slice(7),{}),u=i.getBoundingRect(),l=u.width,n=u.height;l>n?(n=a*2/l*n,l=a*2):(l=a*2/n*l,n=a*2);var h=r?0:C-l/2,v=r?0:x-n/2;return i=ie(b.slice(7),{},new Ye(h,v,l,n)),r&&(i.x=-l/2,i.y=-n/2),i}else if(p){var m=r?-a[0]:C-a[0],f=r?-a[1]:x-a[1];return U("rect",m,f,a[0]*2,a[1]*2)}else{var m=r?-a:C-a,f=r?-a:x-a;return b==="pin"?f+=a:b==="arrow"&&(f-=a),U(b,m,f,a*2,a*2)}return new We({shape:{cx:r?0:C,cy:r?0:x,r:a}})}function F(){var a=A(D);return a.style.fill=null,a.setStyle(e.getModel("outline.itemStyle").getItemStyle()),a}function he(){var a=A(o);a.setStyle(e.getModel("backgroundStyle").getItemStyle()),a.style.fill=null,a.z2=5;var r=A(o);r.setStyle(e.getModel("backgroundStyle").getItemStyle()),r.style.stroke=null;var i=new te;return i.add(a),i.add(r),i}function H(a,r,i){var u=p?o[0]:o,l=p?I/2:o,n=g.getItemModel(a),h=n.getModel("itemStyle"),v=n.get("phase"),m=M(n.get("amplitude"),l*2),f=M(n.get("waveLength"),u*2),y=g.get("value",a),S=l-y*l*2;v=i?i.shape.phase:v==="auto"?a*Math.PI/4:v;var P=h.getItemStyle();if(!P.fill){var R=e.get("color"),z=a%R.length;P.fill=R[z]}var ge=u*2,O=new Ue({shape:{waveLength:f,radius:u,radiusY:l,cx:ge,cy:0,waterLevel:S,amplitude:m,phase:v,inverse:r},style:P,x:C,y:x});O.shape._waterLevel=S;var $=n.getModel("emphasis.itemStyle").getItemStyle();$.lineWidth=0,O.ensureState("emphasis").style=$,oe(O);var Z=A(o,!0);return Z.setStyle({fill:"white"}),O.setClipPath(Z),O}function N(a,r,i){var u=g.getItemModel(a),l=u.get("period"),n=u.get("direction"),h=g.get("value",a),v=u.get("phase");v=i?i.shape.phase:v==="auto"?a*Math.PI/4:v;var m=function(S){var P=g.count();return P===0?S:S*(.2+(P-a)/P*.8)},f=0;l==="auto"?f=m(5e3):f=typeof l=="function"?l(h,a):l;var y=0;n==="right"||n==null?y=Math.PI:n==="left"?y=-Math.PI:n==="none"?y=0:console.error("Illegal direction value for liquid fill."),n!=="none"&&u.get("waveAnimation")&&r.animate("shape",!0).when(0,{phase:v}).when(f/2,{phase:y+v}).when(f,{phase:y*2+v}).during(function(){E&&E.dirty(!0)}).start()}function fe(a){var r=w.getModel("label");function i(){var P=e.getFormattedLabel(0,"normal"),R=g.get("value",0)*100,z=g.getName(0)||e.name;return isNaN(R)||(z=R.toFixed(0)+"%"),P==null?z:P}var u={z2:10,shape:{x:de,y:ce,width:(p?o[0]:o)*2,height:(p?o[1]:o)*2},style:{fill:"transparent"},textConfig:{position:r.get("position")||"inside"},silent:!0},l={style:{text:i(),textAlign:r.get("align"),textVerticalAlign:r.get("baseline")}};Object.assign(l.style,ue(r));var n=new ae(u),h=new ae(u);h.disableLabelAnimation=!0,n.disableLabelAnimation=!0;var v=new re(l),m=new re(l);n.setTextContent(v),h.setTextContent(m);var f=r.get("insideColor");m.style.fill=f;var y=new te;y.add(n),y.add(h);var S=A(o,!0);return E=new Re({shape:{paths:a},x:C,y:x}),E.setClipPath(S),h.setClipPath(E),y}},dispose:function(){}});export{$e as a,qe as b,Ge as c,Ne as e,He as h};
